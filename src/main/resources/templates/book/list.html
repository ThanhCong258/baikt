<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--&lt;!&ndash;      xmlns:sec="http://www.thymeleaf.org/thyme leaf-extras-springsecurity4" lang="en">&ndash;&gt;-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>My Book List</title>-->
<!--    <th:block th:replace="layout :: link-css"></th:block>-->
<!--</head>-->
<!--<body>-->
<!--<th:block th:replace="layout :: header"></th:block>-->
<!--<div class="container">-->
<!--    <h1 th:text=${title}></h1>-->
<!--    <table class="table">-->
<!--        <tr>-->
<!--            <th>ID</th>-->
<!--            <th>Title</th>-->
<!--            <th>Author</th>-->
<!--            <th>Price</th>-->
<!--            <th>Category</th>-->
<!--            <th>Action</th>-->
<!--&lt;!&ndash;            <th sec:authorize="hasAnyAuthority (AD')">Action</th>&ndash;&gt;-->
<!--        </tr>-->
<!--        <tr th:each="book : ${books}">-->
<!--            <td th:text="${book.id}"></td>-->
<!--            <td th:text="${book.title}"></td>-->
<!--            <td th:text="${book.author}"></td>-->
<!--            <td th:text="${book.price}"></td>-->
<!--            <td th:text="${book.category.name}"></td>-->
<!--&lt;!&ndash;            <td sec:authorize="hasAnyAuthority (AD')">&ndash;&gt;-->
<!--            <td>-->
<!--                <a th:href="@{/books/edit/{id}(id=${book.id})}">Edit</a>-->
<!--                <form th:action="@{/books/delete/{id}(id=${book.id})}" method="post" onsubmit="return confirm('Are you sure?')">-->
<!--                    <button type="submit">Delete</button>-->
<!--                </form>-->
<!--            </td>-->
<!--        </tr>-->
<!--    </table>-->
<!--</div>-->
<!--&lt;!&ndash;<script th:src="@{/js/jquery-3.5.1.min.js"></script>&ndash;&gt;-->
<!--&lt;!&ndash;<script th:inline="javascript">&ndash;&gt;-->

<!--&lt;!&ndash;    function deleteBook (link) {&ndash;&gt;-->
<!--&lt;!&ndash;    if (confirm('Are you sure?')) {&ndash;&gt;-->
<!--&lt;!&ndash;    $.ajax({&ndash;&gt;-->
<!--&lt;!&ndash;    url: $(link).attr('href'),&ndash;&gt;-->
<!--&lt;!&ndash;    type: 'DELETE',&ndash;&gt;-->
<!--&lt;!&ndash;    success: result = {&ndash;&gt;-->
<!--&lt;!&ndash;    if (!result.success) { alert(result.message);&ndash;&gt;-->
<!--&lt;!&ndash;    } else {&ndash;&gt;-->
<!--&lt;!&ndash;    $(link).parent().parent().remove();&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->
<!--&lt;!&ndash;    }&ndash;&gt;-->
<!--&lt;!&ndash;</script>&ndash;&gt;-->

<!--<th:block th:replace="layout :: footer"></th:block>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">

    <title>My Book List</title>

    <th:block th:replace="layout :: link-css"></th:block>

</head>

<body>

<th:block th:replace="layout :: header"></th:block>

<div class="container">

    <h1 th:text=${title}></h1>

    <table class="table">

        <tr>

            <th>ID</th>

            <th>Title</th>

            <th>Author</th>

            <th>Price</th>

            <th>Category</th>

            <th>Action</th>

        </tr>

        <tr th:each="book: ${books}">
            <td th:text="${book.id}"></td>

            <td th:text="${book.title}"></td>

            <td th:text="${book.author}"></td>

            <td th:text="${book.price}"></td>
            <td th:text="${book.category.name}"></td>

            <td>

                <a th:href="@{/books/edit/{id}(id=${book.id})}">Edit</a>

                <form th:action="@{/books/delete/{id}(id=${book.id})}" method="post" onsubmit="return confirm('Are you sure?')">
                    <button type="submit">Delete</button>
                </form>

            </td>

        </tr>

    </table>

</div>

<th:block th:replace="layout :: footer"></th:block>

</body>

</html>